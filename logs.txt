admin.js?v=3.1:2 === admin.js loaded successfully ===
admin.js?v=3.1:3527 Loading orders...
admin.js?v=3.1:272 loadDashboard() called
admin.js?v=3.1:302 === loadSalesSummary() called ===
admin.js?v=3.1:313 Fetching /api/sales-summary...
admin.js?v=3.1:589 Checking server status...
dashboard-enhanced.js:1384 [DEBUG] DOMContentLoaded: Initializing dashboard...
dashboard-enhanced.js:1337 [DEBUG] initializeDashboard: Starting initialization...
dashboard-enhanced.js:1344 [DEBUG] initializeDashboard: Found buttons: {today: true, week: true, month: true}
admin.js?v=3.1:179 showSection() called with: dashboard
admin.js?v=3.1:210 === Dashboard case reached ===
admin.js?v=3.1:213 loadDashboard function exists, calling it
admin.js?v=3.1:272 loadDashboard() called
admin.js?v=3.1:276 Dashboard is already loading, skipping...
dashboard-enhanced.js:1416 [DEBUG] showSection: Dashboard section shown
admin:1440 [DEBUG] Calling initializeEnhancedDashboard from DOMContentLoaded
dashboard-enhanced.js:13 [DEBUG] initializeEnhancedDashboard: Starting...
dashboard-enhanced.js:52 [DEBUG] initializeEnhancedDashboard: Loading initial summary data...
dashboard-enhanced.js:58 [DEBUG] initializeEnhancedDashboard: Completed with chart data loading scheduled
admin.js?v=3.1:3049  GET http://localhost:5000/api/menu/categories net::ERR_BLOCKED_BY_CLIENT
loadMenuCategories @ admin.js?v=3.1:3049
(anonymous) @ admin.js?v=3.1:20
admin.js?v=3.1:3057 Error loading categories: TypeError: Failed to fetch
    at loadMenuCategories (admin.js?v=3.1:3049:32)
    at HTMLDocument.<anonymous> (admin.js?v=3.1:20:5)
loadMenuCategories @ admin.js?v=3.1:3057
await in loadMenuCategories
(anonymous) @ admin.js?v=3.1:20
admin.js?v=3.1:3528  GET http://localhost:5000/api/orders net::ERR_BLOCKED_BY_CLIENT
loadOrders @ admin.js?v=3.1:3528
(anonymous) @ admin.js?v=3.1:22
admin.js?v=3.1:3548 Error loading orders: TypeError: Failed to fetch
    at loadOrders (admin.js?v=3.1:3528:32)
    at HTMLDocument.<anonymous> (admin.js?v=3.1:22:5)
loadOrders @ admin.js?v=3.1:3548
await in loadOrders
(anonymous) @ admin.js?v=3.1:22
dashboard-enhanced.js:1377 [DEBUG] initializeDashboard: Setting default to today
dashboard-enhanced.js:247 [DEBUG] selectSummaryDateRange: Called with range: today at: 2025-08-15T18:37:08.972Z
dashboard-enhanced.js:248 [DEBUG] selectSummaryDateRange: Previous selectedDateRange: today
dashboard-enhanced.js:250 [DEBUG] selectSummaryDateRange: New selectedDateRange: today
dashboard-enhanced.js:330 [DEBUG] loadSummaryData: Starting data load...
dashboard-enhanced.js:331 [DEBUG] loadSummaryData: selectedDateRange = today
dashboard-enhanced.js:365 [DEBUG] loadSummaryData: Using selectedDateRange today from Sat Aug 16 2025 to Sat Aug 16 2025
dashboard-enhanced.js:371 [DEBUG] loadSummaryData: Date range for selectedDateRange today : 2025-08-16 to 2025-08-16
dashboard-enhanced.js:377 [DEBUG] loadSummaryData: Calling API: /api/dashboard-data?start=2025-08-16&end=2025-08-16
dashboard-enhanced.js:1333 [DEBUG] initializeDashboard: Already initialized, skipping...
dashboard-enhanced.js:911 [DEBUG] updateSalesChart: Has real data: false dailySales: []
dashboard-enhanced.js:930 [DEBUG] No data for 2025-08-10, using zero values
dashboard-enhanced.js:930 [DEBUG] No data for 2025-08-11, using zero values
dashboard-enhanced.js:930 [DEBUG] No data for 2025-08-12, using zero values
dashboard-enhanced.js:930 [DEBUG] No data for 2025-08-13, using zero values
dashboard-enhanced.js:930 [DEBUG] No data for 2025-08-14, using zero values
dashboard-enhanced.js:930 [DEBUG] No data for 2025-08-15, using zero values
dashboard-enhanced.js:930 [DEBUG] No data for 2025-08-16, using zero values
dashboard-enhanced.js:938 [DEBUG] updateSalesChart: Final data - Sales: (7) [0, 0, 0, 0, 0, 0, 0] Orders: (7) [0, 0, 0, 0, 0, 0, 0]
dashboard-enhanced.js:381 [DEBUG] loadSummaryData: API response: {data: {…}, success: true}
dashboard-enhanced.js:382 [DEBUG] loadSummaryData: periodSales from API: 0
dashboard-enhanced.js:383 [DEBUG] loadSummaryData: totalCustomers from API: 0
dashboard-enhanced.js:399 [DEBUG] loadSummaryData: Mapped data: {periodSales: 0, todaySales: 0, weekSales: 0, monthSales: 0, totalCustomers: 0}
dashboard-enhanced.js:569 [DEBUG] updateSummaryCards: Called at: 2025-08-15T18:37:09.246Z
dashboard-enhanced.js:570 [DEBUG] updateSummaryCards: Updating with data: {periodSales: 0, todaySales: 0, weekSales: 0, monthSales: 0, totalCustomers: 0}
dashboard-enhanced.js:571 [DEBUG] updateSummaryCards: Selected date range: today
dashboard-enhanced.js:572 [DEBUG] updateSummaryCards: todaySales: 0 periodSales: 0
dashboard-enhanced.js:606 [DEBUG] updateSummaryCards: Updated today-sales card: ยอดขายวันนี้ (16/08/2025) 0
dashboard-enhanced.js:632 [DEBUG] updateSummaryCards: Updated week-sales card (FIXED): ยอดขายสัปดาห์นี้ (11/08/2025 - 17/08/2025) 0
dashboard-enhanced.js:652 [DEBUG] updateSummaryCards: Updated month-sales card (FIXED): ยอดขายเดือนนี้ (01/08/2025 - 31/08/2025) 0
dashboard-enhanced.js:686 [DEBUG] updateSummaryCards: Updated total-customers card: จำนวนลูกค้าวันนี้ (16/08/2025)
dashboard-enhanced.js:696 [DEBUG] updateSummaryCards: All cards updated successfully
dashboard-enhanced.js:407 [DEBUG] loadSummaryData: Data load completed successfully
dashboard-enhanced.js:417 [DEBUG] loadSummaryData: Loading flag reset
dashboard-enhanced.js:35 [DEBUG] initializeEnhancedDashboard: Setting up period selector event listener
dashboard-enhanced.js:39 [DEBUG] initializeEnhancedDashboard: Triggering initial changeSalesChartPeriod
dashboard-enhanced.js:1268 [DEBUG] changeSalesChartPeriod() called
dashboard-enhanced.js:1271 [DEBUG] Selected period: 7 days
dashboard-enhanced.js:1285 [DEBUG] Calculating 7 days back from Sat Aug 16 2025
dashboard-enhanced.js:1286 [DEBUG] Start date: Sun Aug 10 2025, End date: Sat Aug 16 2025
dashboard-enhanced.js:1291 [DEBUG] Date range for API: 2025-08-10 to 2025-08-16
dashboard-enhanced.js:1193 [DEBUG] loadChartDataWithDateRange: Loading chart data for 2025-08-10 to 2025-08-16
dashboard-enhanced.js:1249 [DEBUG] loadTopItemsDataWithDateRange: Loading top items for chart period 2025-08-10 to 2025-08-16
admin.js?v=3.1:591 Response status: 200
admin.js?v=3.1:598 Response data: {message: 'เซิร์ฟเวอร์ทำงานปกติ', status: 'online', success: true, timestamp: '2025-08-16T01:37:09.546144+07:00'}
admin.js?v=3.1:606 Server status updated to online
admin.js?v=3.1:329 Sales summary data received: {data: {…}, success: true}
admin.js?v=3.1:332 Updating sales summary with valid data...
admin.js?v=3.1:344 === SKIPPING TODAY SALES UPDATE (handled by dashboard-enhanced.js) ===
admin.js?v=3.1:345 Data.today.total: 0
admin.js?v=3.1:349 Updating week sales: ฿0
admin.js?v=3.1:355 Updating month sales: ฿0
admin.js?v=3.1:361 === SKIPPING ORDERS/CUSTOMERS UPDATE (handled by dashboard-enhanced.js) ===
admin.js?v=3.1:362 Data.today.orders: 0
admin.js?v=3.1:363 Data.total.total: 0
admin.js?v=3.1:367 Sales summary updated successfully
dashboard-enhanced.js:1259 [DEBUG] loadTopItemsDataWithDateRange: topItems data received: []
dashboard-enhanced.js:1202 [DEBUG] loadChartDataWithDateRange: API response: {data: {…}, success: true}
dashboard-enhanced.js:911 [DEBUG] updateSalesChart: Has real data: false dailySales: {}
dashboard-enhanced.js:930 [DEBUG] No data for 2025-08-10, using zero values
dashboard-enhanced.js:930 [DEBUG] No data for 2025-08-11, using zero values
dashboard-enhanced.js:930 [DEBUG] No data for 2025-08-12, using zero values
dashboard-enhanced.js:930 [DEBUG] No data for 2025-08-13, using zero values
dashboard-enhanced.js:930 [DEBUG] No data for 2025-08-14, using zero values
dashboard-enhanced.js:930 [DEBUG] No data for 2025-08-15, using zero values
dashboard-enhanced.js:930 [DEBUG] No data for 2025-08-16, using zero values
dashboard-enhanced.js:938 [DEBUG] updateSalesChart: Final data - Sales: (7) [0, 0, 0, 0, 0, 0, 0] Orders: (7) [0, 0, 0, 0, 0, 0, 0]
dashboard-enhanced.js:54 [DEBUG] initializeEnhancedDashboard: Calling selectSummaryDateRange("today")
dashboard-enhanced.js:247 [DEBUG] selectSummaryDateRange: Called with range: today at: 2025-08-15T18:37:09.894Z
dashboard-enhanced.js:248 [DEBUG] selectSummaryDateRange: Previous selectedDateRange: today
dashboard-enhanced.js:250 [DEBUG] selectSummaryDateRange: New selectedDateRange: today
dashboard-enhanced.js:330 [DEBUG] loadSummaryData: Starting data load...
dashboard-enhanced.js:331 [DEBUG] loadSummaryData: selectedDateRange = today
dashboard-enhanced.js:365 [DEBUG] loadSummaryData: Using selectedDateRange today from Sat Aug 16 2025 to Sat Aug 16 2025
dashboard-enhanced.js:371 [DEBUG] loadSummaryData: Date range for selectedDateRange today : 2025-08-16 to 2025-08-16
dashboard-enhanced.js:377 [DEBUG] loadSummaryData: Calling API: /api/dashboard-data?start=2025-08-16&end=2025-08-16
admin:1461 ปุ่มสีเขียวถูกแสดงแล้ว: 3 ปุ่ม
dashboard-enhanced.js:381 [DEBUG] loadSummaryData: API response: {data: {…}, success: true}
dashboard-enhanced.js:382 [DEBUG] loadSummaryData: periodSales from API: 0
dashboard-enhanced.js:383 [DEBUG] loadSummaryData: totalCustomers from API: 0
dashboard-enhanced.js:399 [DEBUG] loadSummaryData: Mapped data: {periodSales: 0, todaySales: 0, weekSales: 0, monthSales: 0, totalCustomers: 0}
dashboard-enhanced.js:569 [DEBUG] updateSummaryCards: Called at: 2025-08-15T18:37:10.225Z
dashboard-enhanced.js:570 [DEBUG] updateSummaryCards: Updating with data: {periodSales: 0, todaySales: 0, weekSales: 0, monthSales: 0, totalCustomers: 0}
dashboard-enhanced.js:571 [DEBUG] updateSummaryCards: Selected date range: today
dashboard-enhanced.js:572 [DEBUG] updateSummaryCards: todaySales: 0 periodSales: 0
dashboard-enhanced.js:606 [DEBUG] updateSummaryCards: Updated today-sales card: ยอดขายวันนี้ (16/08/2025) 0
dashboard-enhanced.js:632 [DEBUG] updateSummaryCards: Updated week-sales card (FIXED): ยอดขายสัปดาห์นี้ (11/08/2025 - 17/08/2025) 0
dashboard-enhanced.js:652 [DEBUG] updateSummaryCards: Updated month-sales card (FIXED): ยอดขายเดือนนี้ (01/08/2025 - 31/08/2025) 0
dashboard-enhanced.js:686 [DEBUG] updateSummaryCards: Updated total-customers card: จำนวนลูกค้าวันนี้ (16/08/2025)
dashboard-enhanced.js:696 [DEBUG] updateSummaryCards: All cards updated successfully
dashboard-enhanced.js:407 [DEBUG] loadSummaryData: Data load completed successfully
dashboard-enhanced.js:417 [DEBUG] loadSummaryData: Loading flag reset
admin:1 Blocked aria-hidden on an element because its descendant retained focus. The focus must not be hidden from assistive technology users. Avoid using aria-hidden on a focused element or its ancestor. Consider using the inert attribute instead, which will also prevent focus. For more details, see the aria-hidden section of the WAI-ARIA specification at https://w3c.github.io/aria/#aria-hidden.
Element with focus: <button.btn-close>
Ancestor with aria-hidden: <div.modal fade#adminNotificationModal> <div class=​"modal fade" id=​"adminNotificationModal" tabindex=​"-1" aria-labelledby=​"adminNotificationModalLabel" style=​"display:​ block;​" aria-hidden=​"true">​…​</div>​
